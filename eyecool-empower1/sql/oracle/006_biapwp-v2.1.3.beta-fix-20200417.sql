-- ----------------------------
-- Git构建版本信息展示菜单
-- ----------------------------
INSERT INTO SYS_MENU(MENU_ID, MENU_NAME, PARENT_ID, ORDER_NUM, URL, TARGET, MENU_TYPE, VISIBLE, PERMS, ICON, CREATE_BY, CREATE_TIME, UPDATE_BY, UPDATE_TIME, REMARK) VALUES ('3392', '版本信息', '1', '11', '/system/version', 'menuItem', 'C', '0', 'system:version:view', '#', 'admin', TO_DATE('2020-04-17 15:15:38', 'SYYYY-MM-DD HH24:MI:SS'), NULL, NULL, NULL);
-- ----------------------------
-- 参数设置（平台是否开启1-N功能支持）
-- ----------------------------
INSERT INTO SYS_CONFIG(CONFIG_ID, CONFIG_NAME, CONFIG_KEY, CONFIG_VALUE, CONFIG_TYPE, CREATE_BY, CREATE_TIME, UPDATE_BY, UPDATE_TIME, REMARK) VALUES ('136', '平台是否开启1-N搜索功能', 'platform.searchN.function.isOpen', 'Y', 'N', 'admin', TO_DATE('2020-04-17 15:14:22', 'SYYYY-MM-DD HH24:MI:SS'), NULL, NULL, '注意：此参数值需要在初始化部署时设定，避免在平台使用过程中改动。
说明：平台是否开启1-N搜索功能（Y:开启，N：不开启）,不开启则不需要部署Datamanager和fox-minisearch微服务。');

-- ----------------------------
-- 数据一键同步到Datamanager权限按钮
-- ----------------------------
INSERT INTO SYS_MENU(MENU_ID, MENU_NAME, PARENT_ID, ORDER_NUM, URL, TARGET, MENU_TYPE, VISIBLE, PERMS, ICON, CREATE_BY, CREATE_TIME, UPDATE_BY, UPDATE_TIME, REMARK) VALUES ('3393', '一键同步', '3202', '6', '#', 'menuItem', 'F', '0', 'scene:subtreasury:syncdata', '#', 'admin', TO_DATE('2020-04-20 17:44:04', 'SYYYY-MM-DD HH24:MI:SS'), NULL, NULL, NULL);
INSERT INTO SYS_MENU(MENU_ID, MENU_NAME, PARENT_ID, ORDER_NUM, URL, TARGET, MENU_TYPE, VISIBLE, PERMS, ICON, CREATE_BY, CREATE_TIME, UPDATE_BY, UPDATE_TIME, REMARK) VALUES ('3394', '一键同步', '3135', '6', '#', 'menuItem', 'F', '0', 'scene:business:syncdata', '#', 'admin', TO_DATE('2020-04-20 17:43:34', 'SYYYY-MM-DD HH24:MI:SS'), NULL, NULL, NULL);
INSERT INTO SYS_MENU(MENU_ID, MENU_NAME, PARENT_ID, ORDER_NUM, URL, TARGET, MENU_TYPE, VISIBLE, PERMS, ICON, CREATE_BY, CREATE_TIME, UPDATE_BY, UPDATE_TIME, REMARK) VALUES ('3395', '一键同步', '3028', '10', '#', 'menuItem', 'F', '0', 'basedata:personInfo:syncdata', '#', 'admin', TO_DATE('2020-04-20 17:42:07', 'SYYYY-MM-DD HH24:MI:SS'), NULL, NULL, NULL);

-- ----------------------------
-- 实时同步参数配置
-- ----------------------------
INSERT INTO SYS_CONFIG(CONFIG_ID, CONFIG_NAME, CONFIG_KEY, CONFIG_VALUE, CONFIG_TYPE, CREATE_BY, CREATE_TIME, UPDATE_BY, UPDATE_TIME, REMARK) VALUES ('137', '人员基础信息实时同步服务端地址', 'person.liveupdate.server.address', 'http://192.168.0.1:8765', 'N', 'admin', TO_DATE('2020-04-26 13:44:55', 'SYYYY-MM-DD HH24:MI:SS'), NULL, NULL, '1、参数可以是http://IP:端口或者http://域名
2、服务端地址不能和客户端（边缘端）地址一样，否则会自己调用自己导致同步死循环');
INSERT INTO SYS_CONFIG(CONFIG_ID, CONFIG_NAME, CONFIG_KEY, CONFIG_VALUE, CONFIG_TYPE, CREATE_BY, CREATE_TIME, UPDATE_BY, UPDATE_TIME, REMARK) VALUES ('138', '人员基础信息实时同步接口AppKey', 'person.liveupdate.call.appkey', 'V6IVRgxl', 'N', 'admin', TO_DATE('2020-04-26 13:45:27', 'SYYYY-MM-DD HH24:MI:SS'), NULL, NULL, '服务端为当前客户端调用接口授权的AppKey');
INSERT INTO SYS_CONFIG(CONFIG_ID, CONFIG_NAME, CONFIG_KEY, CONFIG_VALUE, CONFIG_TYPE, CREATE_BY, CREATE_TIME, UPDATE_BY, UPDATE_TIME, REMARK) VALUES ('139', '人员基础信心实时同步接口AppSecrect', 'person.liveupdate.call.appsecrect', '958082f4479cab0d6f623e09809ab948c2ec8f9c', 'N', 'admin', TO_DATE('2020-04-26 13:46:39', 'SYYYY-MM-DD HH24:MI:SS'), NULL, NULL, '服务端为当前客户端调用接口授权的AppSecrect');
INSERT INTO SYS_CONFIG(CONFIG_ID, CONFIG_NAME, CONFIG_KEY, CONFIG_VALUE, CONFIG_TYPE, CREATE_BY, CREATE_TIME, UPDATE_BY, UPDATE_TIME, REMARK) VALUES ('140', '人员基础信息实时同步客户端渠道编码', 'person.liveupdate.channelCode', 'eyecool1', 'N', 'admin', TO_DATE('2020-04-26 13:47:09', 'SYYYY-MM-DD HH24:MI:SS'), NULL, NULL, '服务端为当前客户端调用接口分配的渠道编码');
INSERT INTO SYS_CONFIG(CONFIG_ID, CONFIG_NAME, CONFIG_KEY, CONFIG_VALUE, CONFIG_TYPE, CREATE_BY, CREATE_TIME, UPDATE_BY, UPDATE_TIME, REMARK) VALUES ('141', '人员基础信息实时同步最大更新标识', 'person.liveupdate.max.serianum', '0', 'N', 'admin', TO_DATE('2020-04-26 13:47:40', 'SYYYY-MM-DD HH24:MI:SS'), NULL, NULL, '人员基础信息实时同步上一次执行后的最大更新标识，初始值为0，下一次同步会传入这个数，同步完成后自动保存当前同步的最大标识，不需要（不可以）手动修改');
INSERT INTO SYS_CONFIG(CONFIG_ID, CONFIG_NAME, CONFIG_KEY, CONFIG_VALUE, CONFIG_TYPE, CREATE_BY, CREATE_TIME, UPDATE_BY, UPDATE_TIME, REMARK) VALUES ('142', '人员基础信息实时同步最大更新时间', 'person.liveupdate.max.updatetime', '1970-01-01 00:00:00', 'N', 'admin', TO_DATE('2020-04-26 13:48:45', 'SYYYY-MM-DD HH24:MI:SS'), NULL, NULL, '人员基础信息实时同步上一次执行后的最大更新时间，初始值为1970-01-01 00:00:00，下一次同步会传入这个数，同步完成后自动保存当前同步的最大更新时间，不需要（不可以）手动修改');

-- ----------------------------
-- 数据来源字典数值
-- ----------------------------
INSERT INTO SYS_DICT_DATA(DICT_CODE, DICT_SORT, DICT_LABEL, DICT_VALUE, DICT_TYPE, CSS_CLASS, LIST_CLASS, IS_DEFAULT, STATUS, CREATE_BY, CREATE_TIME, UPDATE_BY, UPDATE_TIME, REMARK) VALUES ('374', '4', '实时同步', 'LIVEUPDATE', 'apply_data_source', NULL, 'primary', 'N', '0', 'admin', TO_DATE('2020-04-26 13:42:32', 'SYYYY-MM-DD HH24:MI:SS'), NULL, NULL, '数据来源--实时同步');

-- ----------------------------
-- 人员基础信息实时同步定时任务
-- ----------------------------
INSERT INTO SYS_JOB(JOB_ID, JOB_NAME, JOB_GROUP, INVOKE_TARGET, CRON_EXPRESSION, MISFIRE_POLICY, CONCURRENT, STATUS, CREATE_BY, CREATE_TIME, UPDATE_BY, UPDATE_TIME, REMARK) VALUES ('128', '人员基础信息实时同步', 'DEFAULT', 'personLiveUpdateTask.execute()', '0 0 0/1 * * ? *', '1', '1', '1', 'admin', TO_DATE('2020-04-26 13:50:04', 'SYYYY-MM-DD HH24:MI:SS'), NULL, NULL, '人员基础信息实时同步，暂定每小时执行一次，具体周期可以调整cron表达式修改');
INSERT INTO QRTZ_JOB_DETAILS(SCHED_NAME, JOB_NAME, JOB_GROUP, DESCRIPTION, JOB_CLASS_NAME, IS_DURABLE, IS_NONCONCURRENT, IS_UPDATE_DATA, REQUESTS_RECOVERY, JOB_DATA) VALUES ('RuoyiScheduler', 'TASK_CLASS_NAME128', 'DEFAULT', NULL, 'com.ruoyi.quartz.util.QuartzDisallowConcurrentExecution', '0', '1', '0', '0', HEXTORAW('ACED0005737200156F72672E71756172747A2E4A6F62446174614D61709FB083E8BFA9B0CB020000787200266F72672E71756172747A2E7574696C732E537472696E674B65794469727479466C61674D61708208E8C3FBC55D280200015A0013616C6C6F77735472616E7369656E74446174617872001D6F72672E71756172747A2E7574696C732E4469727479466C61674D617013E62EAD28760ACE0200025A000564697274794C00036D617074000F4C6A6176612F7574696C2F4D61703B787001737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F4000000000000C7708000000100000000174000F5441534B5F50524F504552544945537372001E636F6D2E72756F79692E71756172747A2E646F6D61696E2E5379734A6F6200000000000000010200084C000A636F6E63757272656E747400124C6A6176612F6C616E672F537472696E673B4C000E63726F6E45787072657373696F6E71007E00094C000C696E766F6B6554617267657471007E00094C00086A6F6247726F757071007E00094C00056A6F6249647400104C6A6176612F6C616E672F4C6F6E673B4C00076A6F624E616D6571007E00094C000D6D697366697265506F6C69637971007E00094C000673746174757371007E000978720027636F6D2E72756F79692E636F6D6D6F6E2E636F72652E646F6D61696E2E42617365456E7469747900000000000000010200074C0008637265617465427971007E00094C000A63726561746554696D657400104C6A6176612F7574696C2F446174653B4C0006706172616D7371007E00034C000672656D61726B71007E00094C000B73656172636856616C756571007E00094C0008757064617465427971007E00094C000A75706461746554696D6571007E000C787074000561646D696E707074006AE4BABAE59198E59FBAE7A180E4BFA1E681AFE5AE9EE697B6E5908CE6ADA5EFBC8CE69A82E5AE9AE6AF8FE5B08FE697B6E689A7E8A18CE4B880E6ACA1EFBC8CE585B7E4BD93E591A8E69C9FE58FAFE4BBA5E8B083E695B463726F6EE8A1A8E8BEBEE5BC8FE4BFAEE694B97070707400013174000F30203020302F31202A202A203F202A74001E706572736F6E4C6976655570646174655461736B2E65786563757465282974000744454641554C547372000E6A6176612E6C616E672E4C6F6E673B8BE490CC8F23DF0200014A000576616C7565787200106A6176612E6C616E672E4E756D62657286AC951D0B94E08B0200007870000000000000008074001EE4BABAE59198E59FBAE7A180E4BFA1E681AFE5AE9EE697B6E5908CE6ADA574000131740001317800'));
INSERT INTO QRTZ_TRIGGERS(SCHED_NAME, TRIGGER_NAME, TRIGGER_GROUP, JOB_NAME, JOB_GROUP, DESCRIPTION, NEXT_FIRE_TIME, PREV_FIRE_TIME, PRIORITY, TRIGGER_STATE, TRIGGER_TYPE, START_TIME, END_TIME, CALENDAR_NAME, MISFIRE_INSTR, JOB_DATA) VALUES ('RuoyiScheduler', 'TASK_CLASS_NAME128', 'DEFAULT', 'TASK_CLASS_NAME128', 'DEFAULT', NULL, '1587880800000', '-1', '5', 'PAUSED', 'CRON', '1587880045000', '0', NULL, '-1', NULL);
INSERT INTO QRTZ_CRON_TRIGGERS(SCHED_NAME, TRIGGER_NAME, TRIGGER_GROUP, CRON_EXPRESSION, TIME_ZONE_ID) VALUES ('RuoyiScheduler', 'TASK_CLASS_NAME128', 'DEFAULT', '0 0 0/1 * * ? *', 'Asia/Shanghai');

-- ----------------------------
-- 重置序列
-- ----------------------------
drop sequence S_sys_config;
CREATE sequence S_sys_config INCREMENT BY 1 START WITH 143 nomaxvalue nominvalue cache 20;
drop sequence S_sys_menu;
CREATE sequence S_sys_menu INCREMENT BY 1 START WITH 3396 nomaxvalue nominvalue cache 20;
drop sequence S_sys_dict_data;
CREATE sequence S_sys_dict_data INCREMENT BY 1 START WITH 375 nomaxvalue nominvalue cache 20;
drop sequence S_sys_job;
CREATE sequence S_sys_job INCREMENT BY 1 START WITH 129 nomaxvalue nominvalue cache 20;